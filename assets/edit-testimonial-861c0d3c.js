import{a as N,at as R,r as u,P as B,o as F,c as S,d as l,g as e,av as f,ap as p,aw as k,i as a,e as U}from"./index-efd76d56.js";import{u as g}from"./testimonial-35ebf3f3.js";import{d as n,V as A,c as b,e as E}from"./VTextField-fd77a9c9.js";import{V as I}from"./VForm-7f9ea4ee.js";import{V as M}from"./VFileInput-f387d349.js";import{V as j}from"./VTextarea-fa930866.js";import"./VGrid-02b50634.js";const D=U("h2",{class:"mb-0"}," Edit Testimonial ",-1),O={__name:"edit-testimonial",setup(K){const T=N(),{loading:i,error:o}=R(g()),{fetchTestimonial:h,updateTestimonial:y}=g(),v=T.params.id,d=u(""),_=u(null),c=u(""),m=u(""),V=async()=>{try{const s=await h(v);d.value=s.name,m.value=s.testimonial}catch(s){console.error(s)}};B(()=>{V(),document.title="Edit Testimonial"});const x=()=>{y({id:v,name:d.value,avatar:_.value,testimonial:m.value})},w=()=>{V()},C=s=>{const t=s.target.files[0];t&&(_.value=t,c.value=t.name)};return(s,t)=>(F(),S(b,null,{default:l(()=>[e(n,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:l(()=>[D,e(f,{to:{name:"admin-testimonials"},color:"primary"},{default:l(()=>[p(" Kembali ")]),_:1})]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(A,null,{default:l(()=>[e(I,{onSubmit:k(x,["prevent"])},{default:l(()=>[e(b,null,{default:l(()=>[e(n,{cols:"12",md:"6"},{default:l(()=>[e(E,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=r=>d.value=r),label:"Nama",placeholder:"Nama","error-messages":a(o)&&a(o).name?[a(o).name]:[],disabled:a(i),loading:a(i)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(n,{cols:"12",md:"6"},{default:l(()=>[e(M,{modelValue:c.value,"onUpdate:modelValue":t[1]||(t[1]=r=>c.value=r),label:"Avatar",placeholder:"Avatar","error-messages":a(o)&&a(o).avatar?[a(o).avatar]:[],onChange:C},null,8,["modelValue","error-messages"])]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(j,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=r=>m.value=r),label:"Testimonial",placeholder:"Testimonial","error-messages":a(o)&&a(o).testimonial?[a(o).testimonial]:[],disabled:a(i),loading:a(i)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(f,{type:"submit",loading:a(i),color:"primary"},{default:l(()=>[p(" Simpan ")]),_:1},8,["loading"]),e(f,{type:"reset",color:"secondary",variant:"tonal",onClick:w},{default:l(()=>[p(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{O as default};
